<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script src="qx-bom.js" type="text/javascript" charset="utf-8"></script>
  <style type="text/css" media="screen">
    .button {
      background-image: -webkit-linear-gradient(270deg, rgb(249, 249, 249) 40%, rgb(227, 227, 227) 70%);
      background-image: -moz-linear-gradient(270deg, #F9F9F9 40%, #E3E3E3 70%);
      border-top-left-radius: 3px;
      border-top-right-radius: 3px;
      border-bottom-left-radius: 3px;
      border-bottom-right-radius: 3px;
      border-top: 1px solid #BBB;
      border-right: 1px solid #BBB;
      border-bottom: 1px solid #BBB;
      border-left: 1px solid #BBB;
      background-color: #F9F9F9;
      padding: 10px;
      margin-right: 5px;
      margin-top: 20px;
      float: left;
      cursor: pointer;
      text-align: center;
    }
  </style>
</head>
<body>
  <script type="text/javascript" charset="utf-8">


  

  var css = {duration: 1000, timing: "ease-out", keyFrames : {
    0 : {"width" : "30px"},
    70 : {"width" : "100px"},
    100 : {"width": "30px"}
  }};

  var transform = {duration: 1000, keyFrames : {
      0: {"scale": [1,1], "rotate" : ["0deg", "0deg"], "skew": "0deg", "translate" : "0px"},
      50: {"scale": [1, 0.2], "rotate" : ["0deg", "90deg"], "skew": "10deg", "translate": "-50px"},
      100: {"scale": [1,1], "rotate" : ["0deg", "0deg"], "skew": "0deg", "translate": "0px"}
    }
  };

  var translate = {duration: 1000, keyFrames : {
      0: {"translate" : ["0px", "0px"]},
      50: {"translate": ["50px", "20px"]},
      100: {"translate": ["0px", "0px"]}
    }
  };

  var scale = {duration: 1000, origin : "bottom center", keyFrames : {
      0: {"scale" : [1, 1]},
      50: {"scale": [2, 0.1]},
      100: {"scale": [1, 1]}
    }
  };

  var rotate2d = {duration: 1000, keep: 100, keyFrames : {
      0: {"rotate" : "0deg"},
      100: {"rotate": "360deg"}
    }
  };

  var rotate3d = {duration: 1000, keyFrames : {
      0: {"rotate" : ["0deg", "0deg", "0deg"]},
      50: {"rotate": ["180deg", "180deg", "90deg"]},
      100: {"rotate" : ["0deg", "0deg", "0deg"]}
    }
  };

  var skew = {duration: 1000, origin : "bottom left", keyFrames : {
      0: {"skew" : "0deg"},
      50: {"skew": "-20deg"},
      100: {"skew": "0deg"}
    }
  };

  var shake = {duration: 1000, keyFrames : {
    0 : {translate: "0px"},
    10 : {translate: "-10px"},
    20 : {translate: "10px"},
    30 : {translate: "-10px"},
    40 : {translate: "10px"},
    50 : {translate: "-10px"},
    60 : {translate: "10px"},
    70 : {translate: "-10px"},
    80 : {translate: "10px"},
    90 : {translate: "-10px"},
    100 : {translate: "0px"},
  }};

  var tada = {duration: 1000, keyFrames : {
    0 :  {scale: 1, rotate: "0deg"},
    10 : {scale: 0.9, rotate: "-3deg"},
    20 : {scale: 0.9, rotate: "-3deg"},
    30 : {scale: 1.1, rotate: "3deg"},
    40 : {scale: 1.1, rotate: "-3deg"},
    50 : {scale: 1.1, rotate: "3deg"},
    60 : {scale: 1.1, rotate: "-3deg"},
    70 : {scale: 1.1, rotate: "3deg"},
    80 : {scale: 1.1, rotate: "-3deg"},
    90 : {scale: 1.1, rotate: "3deg"},
    100 : {scale: 1, rotate: "0deg"},
  }};

  var rotateOut = {duration: 500, origin: "left bottom", keyFrames : {
    0: {opacity: 1, rotate: "0deg",},
    100: {opacity: 0, rotate: "90deg"}
  }};

  var rotateIn = {duration: 500, origin: "left bottom", keyFrames : {
    0: {opacity: 0, rotate: "90deg"},
    100: {opacity: 1, rotate: "0deg"}
  }};

  var upAndAway = {duration : 500, timing: "ease-out", keyFrames : {
    0 : {translate : [null, "0px"], opacity: 1},
    30 : {translate : [null, "10px"], opacity : 1},
    100 : {translate : [null, "-50px"], opacity: 0}
  }};

  var fall = {duration: 1000, timing: "ease-in", origin: "bottom center", keyFrames : {
    0: {rotate : ["0deg"], skew: ["0deg"]},
    100 : {rotate : ["90deg"], skew: ["-20deg"]}
  }};

  var tests = {
    "Tada" : tada,
    "Shake" : shake,
    "Skew" : skew,
    "Rotate" : rotate2d,
    "Scale" : scale,
    "translate" : translate,
    "Width" : css,
    "Rotate Out" : rotateOut,
    "Rotate In" : rotateIn,
    "Up and out" : upAndAway,
    "3D Rotate" : rotate3d,
    "3D Transform" : transform,
    "3D Fall" : fall
  };

  for (var test in tests) {
    var button = document.createElement("div");
    button.innerHTML = test;
    button.className = "button";
    document.body.appendChild(button);
    if (test.indexOf("3D") != -1 && !qx.bom.element.Animation.supports3d()) {
      button.style.color = "red";
      button.style.cursor = "not-allowed";
      continue;
    }
    button.addEventListener("click", 
      (function(animation) { 
        return function(e) {
          qx.bom.element.Animation.animate(e.target, animation);
        }
      })(tests[test])
    );
  }

  </script>
</body>
</html>
